src/
├── lib.rs
├── types.rs                  # NodeIndex, EdgeIndex, AttrName, AttrValue
├── config.rs                 # GraphConfig
├── errors.rs                 # Error types (e.g. MergeError)
├── util.rs                   # Helpers & hashing

├── api/
│   └── graph.rs              # Public façade
│       ├── new()
│       ├── add_nodes()
│       ├── add_edges()
│       ├── node_count()
│       ├── edge_count()
│       ├── get_node_ids()
│       ├── has_node()
│       ├── has_edge()
│       ├── get_node_attributes()
│       ├── get_edge_attributes()
│       ├── set_node_attributes()
│       ├── set_edge_attributes()
│       ├── remove_nodes()
│       ├── remove_edges()
│       ├── get_neighbors()
│       ├── filter_nodes()
│       ├── filter_edges()
│       ├── subgraphs()



├── core/
│   ├── delta.rs              # ColumnDelta<T>, AttrDelta, BoolDelta, DeltaObject
│   ├── change_tracker.rs     # ChangeTracker
│   ├── pool.rs               # GraphPool
│   └── space.rs              # GraphSpace
│       ├── add_nodes()
│       ├── add_edges()
│       ├── remove_node()
│       ├── remove_edge()
│       ├── node_count()
│       ├── edge_count()
│       ├── get_node_ids()
│       ├── get_edge_ids()
│       ├── get_()
│       ├── has_node()
│       ├── has_edge()
│       ├── get_neighbors()
│       ├── set_node_attributes()
│       ├── set_edge_attributes()

├── view/
│   ├── view.rs               # StateView<'_>
│   │   ├── get_nodes_attributes()
│   │   ├── get_edges_attributes()
│   └── query.rs              # Filtering helpers
│       ├── filter_nodes_by_attributes()
│       ├── filter_edges_by_attributes()
│       ├── filter_by_numeric_comparison()
│       ├── filter_by_string_comparison()
│       ├── filter_by_multi_criteria()

├── history/
│   ├── state.rs              # StateObject & StateMetadata  
│   │   ├── StateObject::new()
│   │   ├── StateObject::parent()
│   │   ├── StateObject::delta()
│   │   └── StateObject::metadata()
│   └── forest.rs             # GraphForest + dedupe store  
│       ├── commit()                  # commit GraphSpace → new StateId
│       ├── apply_delta()             # apply a DeltaObject to a snapshot
│       ├── snapshot()                # fold deltas into a full snapshot
│       ├── merge_states()            # naive three-way merge
│       ├── list_states()             # all StateIds
│       ├── get_state()               # lookup StateObject
│       └── garbage_collect()         # prune unreachable states

└── refs/
    └── ref_manager.rs        # Branch, Tag, merge/GC logic
        ├── create_branch()
        ├── checkout_branch()
        ├── delete_branch()
        ├── list_branches()
        ├── create_tag()
        ├── delete_tag()
        ├── merge_branches()
        ├── prune_branches()
        └── garbage_collect()
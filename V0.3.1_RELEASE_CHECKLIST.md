# Groggy v0.3.1 Release Checklist

## 🎯 Release Overview
**Version:** 0.3.1  
**Focus:** Architecture Cleanup + Enhanced Subgraph Operations  
**Major Achievement:** Eliminated Shadow API and exposed 13 previously hidden methods

---

## ✅ COMPLETED TASKS

### Documentation & Architecture
- [x] Updated release notes to v0.3.1 with architecture changes
- [x] Added comprehensive subgraph operations section to API reference  
- [x] Enhanced FFI interface guide with recent architecture patterns
- [x] Updated main documentation index with new features
- [x] Eliminated PySubgraphOperations shadow API (400+ lines removed)
- [x] Exposed 13 previously trapped subgraph methods to Python users
- [x] Implemented accessor-based attribute setting patterns
- [x] Added __getattr__ delegation pattern documentation

### Code Cleanup  
- [x] Deleted 5+ unused functions (connected_components_for_subgraph, graph_error_to_py_err, etc.)
- [x] Removed unused imports in FFI layer
- [x] Fixed test method naming issues (bfs_subgraph → bfs, dfs_subgraph → dfs)
- [x] Eliminated all "never used" dead code warnings
- [x] Build compiles successfully with Python bindings

---

## 🚨 CRITICAL PRE-RELEASE TASKS

### 1. Fix Remaining Compilation Warnings (96 total)
**Priority: HIGH** - Clean codebase for professional release

#### Unused Variable Warnings (43 × `py` + others)
- **43× unused `py` parameters** - Most PyO3 methods don't actually use the Python context
- **5× unused `subgraph_trait` variables** - Return values from core methods not used in FFI  
- **3× unused `other` parameters** - Merge/intersect operations not implemented
- **3× unused `attr_name` variables** - Extracted but not used in validation
- **Individual variables:** `uid_key`, `subgraph`, `node_ids`, `node_id`, `max_nodes`, `m`, `kwargs`, `inplace`, `graph`, `agg_functions`

**Fix Strategy:** Prefix unused variables with `_` (e.g., `py` → `_py`)

#### Framework Warnings (20 × non-local impl)
- **20× PyO3 macro warnings** - Framework-generated, generally not actionable
- **10× unused Result warnings** - Error handling not checked in some methods  
- **1× unused struct** - `PyAttributes` struct never constructed

#### Dead Code Warnings  
- **1× unused struct:** `PyAttributes` in graph.rs - can be deleted

### 2. Version Updates
- [ ] Update version numbers in all project files:
  - [ ] `Cargo.toml` (main project) → `version = "0.3.1"`
  - [ ] `python-groggy/Cargo.toml` → `version = "0.3.1"`  
  - [ ] `python-groggy/pyproject.toml` → `version = "0.3.1"`
  - [ ] Update dependency version constraints if needed

### 3. Test Suite Validation  
- [ ] Run full Rust test suite: `cargo test --all`
- [ ] Run Python integration tests: `python tests/test_documentation_validation.py`
- [ ] Run comprehensive validation: `python tests/validation_test_suite.py`
- [ ] Verify all README examples work with new functionality
- [ ] Test new subgraph methods are accessible: `sg.is_empty()`, `sg.degree()`, etc.
- [ ] Test accessor pattern: `sg.nodes.set_attrs()`, `sg.edges.set_attrs()`

### 4. Build & Package Validation
- [ ] Test development build: `maturin develop --release`
- [ ] Test wheel creation: `maturin build --release`
- [ ] Verify Python import works: `import groggy; g = groggy.Graph()`
- [ ] Test key new functionality in Python REPL
- [ ] Run performance regression checks on core operations

---

## 📋 RELEASE WORKFLOW

### Phase 1: Final Code Quality (Est. 2-3 hours)
1. **Fix Unused Variables** (1 hour)
   - Systematically prefix all unused `py` parameters with `_py`
   - Fix unused `subgraph_trait`, `other`, `attr_name` variables
   - Remove unused `PyAttributes` struct
   
2. **Handle Result Warnings** (30 min)
   - Add `.ok()` or proper error handling for unchecked Results
   
3. **Verification Build** (30 min)
   - Ensure clean compilation with minimal warnings
   - Target: <10 warnings (only PyO3 framework warnings)

### Phase 2: Version & Testing (Est. 1-2 hours)  
1. **Update Versions** (15 min)
   - Update all version strings to 0.3.1
   - Commit version updates
   
2. **Test Suite Run** (45 min)
   - Full Rust tests
   - Python integration tests  
   - Manual verification of new features
   
3. **Build Validation** (30 min)
   - Release build with maturin
   - Wheel packaging test
   - Import and basic functionality test

### Phase 3: Package & Deploy (Est. 1 hour)
1. **Create Release Package** (30 min)
   - Build final wheel: `maturin build --release`
   - Generate source distribution if needed
   - Test final package installation
   
2. **GitHub Release** (15 min)  
   - Tag release: `git tag v0.3.1`
   - Push tags: `git push origin v0.3.1`
   - Create GitHub release with changelog
   
3. **PyPI Upload** (15 min)
   - Upload to PyPI: `maturin publish` or manual upload
   - Verify package appears and installs correctly

---

## 🎯 SUCCESS CRITERIA

### Code Quality
- [ ] ✅ Builds without errors
- [ ] ✅ <10 compilation warnings (only framework warnings)  
- [ ] ✅ All tests pass
- [ ] ✅ No "unused" or "dead code" warnings

### Functionality  
- [ ] ✅ All 13 previously hidden subgraph methods work: `sg.is_empty()`, `sg.summary()`, `sg.degree()`, etc.
- [ ] ✅ Accessor patterns work: `sg.nodes.set_attrs()`, `sg.edges.set_attrs()`
- [ ] ✅ __getattr__ delegation works: `g.degree()` → `g.full_subgraph.degree()`
- [ ] ✅ Documentation examples execute successfully

### Package Quality
- [ ] ✅ Clean wheel build
- [ ] ✅ Successful PyPI upload  
- [ ] ✅ `pip install groggy` installs cleanly
- [ ] ✅ Basic import and usage works

---

## 🚨 ROLLBACK PLAN

If critical issues discovered during release:
1. **Immediate:** Remove PyPI package if uploaded
2. **Fix:** Create hotfix branch for critical issues
3. **Retry:** Increment to v0.3.2 for fixed release
4. **Document:** Update changelog with issue resolution

---

## 📝 CHANGELOG ENTRY

### Added
- **13 New Subgraph Methods:** Previously hidden methods now accessible - `is_empty()`, `summary()`, `degree()`, `in_degree()`, `out_degree()`, `clustering_coefficient()`, `induced_subgraph()`, `edge_subgraph()`, etc.
- **Accessor-Based Attribute Setting:** New pattern `sg.nodes.set_attrs()` and `sg.edges.set_attrs()` for constrained bulk operations
- **Method Delegation Pattern:** Automatic forwarding from Graph to Subgraph via `__getattr__` for methods like `degree()`

### Changed  
- **BREAKING:** Removed PySubgraphOperations shadow API (400+ lines of dead code)
- **Architecture:** Complete method visibility - all subgraph functionality now exposed to Python

### Fixed
- **Dead Code:** Eliminated 5+ unused functions across FFI and core layers
- **Tests:** Fixed method naming in test files (`bfs_subgraph` → `bfs`, `dfs_subgraph` → `dfs`)
- **Build:** Resolved compilation warnings and import issues

---

**Total Estimated Time:** 4-6 hours for complete release
**Risk Level:** Low (incremental release with thorough testing)
**Dependencies:** None (no external API changes)
define(["@jupyter-widgets/base"],e=>(()=>{"use strict";var t={55:t=>{t.exports=e},580:(e,t,o)=>{o.r(t),o.d(t,{load_ipython_extension:()=>l});var i=o(55);const n="groggy-widgets",r="0.1.0";class s extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"GroggyGraphModel",_model_module:n,_model_module_version:r,_view_name:"GroggyGraphView",_view_module:n,_view_module_version:r,nodes:[],edges:[],title:"Graph Visualization"})}}s.model_name="GroggyGraphModel",s.model_module=n,s.model_module_version=r;class d extends i.DOMWidgetView{constructor(){super(...arguments),this.nodePositions=new Map,this.isDragging=!1,this.dragNode=null,this.dragOffset={x:0,y:0}}render(){this.el.style.cssText="\n      border: 2px solid #4CAF50;\n      padding: 10px;\n      margin: 10px;\n      border-radius: 8px;\n      background: #f9f9f9;\n      font-family: Arial, sans-serif;\n      min-height: 400px;\n      position: relative;\n      user-select: none;\n    ";const e=document.createElement("div");e.style.cssText="\n      font-weight: bold;\n      margin-bottom: 10px;\n      color: #333;\n    ",e.textContent=this.model.get("title")||"Graph Visualization",this.el.appendChild(e);const t=document.createElement("div");t.style.cssText="\n      width: 100%;\n      height: 350px;\n      border: 1px solid #ddd;\n      background: white;\n      position: relative;\n      overflow: hidden;\n      cursor: grab;\n    ",this.el.appendChild(t),this.renderGraph(t),this.model.on("change",this.onModelChange,this)}renderGraph(e){const t=this.model.get("nodes")||[],o=this.model.get("edges")||[];if(e.innerHTML="",0===t.length)return void(e.innerHTML='\n        <div style="\n          display: flex; \n          align-items: center; \n          justify-content: center; \n          height: 100%; \n          color: #666;\n          font-style: italic;\n        ">\n          No graph data provided. Add nodes and edges to see visualization.\n        </div>\n      ');const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.style.cursor="grab",e.appendChild(i);const n=e.clientWidth/2,r=e.clientHeight/2,s=.7*Math.min(n,r);0===this.nodePositions.size&&t.forEach((e,o)=>{const i=2*Math.PI*o/t.length,d=n+s*Math.cos(i),l=r+s*Math.sin(i);this.nodePositions.set(e.id,{x:d,y:l})});const d=[];o.forEach(e=>{const t=this.nodePositions.get(e.source),o=this.nodePositions.get(e.target);if(t&&o){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",t.x.toString()),e.setAttribute("y1",t.y.toString()),e.setAttribute("x2",o.x.toString()),e.setAttribute("y2",o.y.toString()),e.setAttribute("stroke","#999"),e.setAttribute("stroke-width","2"),e.setAttribute("opacity","0.6"),i.appendChild(e),d.push(e)}}),t.forEach(e=>{const t=this.nodePositions.get(e.id);if(!t)return;const n=document.createElementNS("http://www.w3.org/2000/svg","g");n.style.cursor="grab";const r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",t.x.toString()),r.setAttribute("cy",t.y.toString()),r.setAttribute("r",(e.size||20).toString()),r.setAttribute("fill",this.getNodeColor(e.group)),r.setAttribute("stroke","#333"),r.setAttribute("stroke-width","2"),r.style.filter="drop-shadow(2px 2px 4px rgba(0,0,0,0.3))";const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x",t.x.toString()),s.setAttribute("y",(t.y+5).toString()),s.setAttribute("text-anchor","middle"),s.setAttribute("font-family","Arial, sans-serif"),s.setAttribute("font-size","12"),s.setAttribute("fill","#333"),s.setAttribute("pointer-events","none"),s.textContent=e.label||e.id,n.appendChild(r),n.appendChild(s),i.appendChild(n),this.addDragBehavior(n,e,r,s,d,o)});const l=document.createElement("div");l.style.cssText="\n      position: absolute;\n      top: 5px;\n      right: 5px;\n      background: rgba(255,255,255,0.9);\n      padding: 5px;\n      border-radius: 3px;\n      font-size: 12px;\n      color: #666;\n    ",l.innerHTML=`${t.length} nodes, ${o.length} edges<br><small>Drag nodes to reposition</small>`,e.appendChild(l)}addDragBehavior(e,t,o,i,n,r){let s=0,d=0,l=!1;const a=t=>{l=!0,s=t.clientX,d=t.clientY,e.style.cursor="grabbing",o.setAttribute("stroke-width","3"),t.preventDefault()},g=e=>{if(!l)return;const a=e.clientX-s,g=e.clientY-d,u=this.nodePositions.get(t.id),c=u.x+a,p=u.y+g;this.nodePositions.set(t.id,{x:c,y:p}),o.setAttribute("cx",c.toString()),o.setAttribute("cy",p.toString()),i.setAttribute("x",c.toString()),i.setAttribute("y",(p+5).toString()),this.updateEdges(t.id,n,r),s=e.clientX,d=e.clientY},u=()=>{l=!1,e.style.cursor="grab",o.setAttribute("stroke-width","2")};e.addEventListener("mousedown",a),document.addEventListener("mousemove",g),document.addEventListener("mouseup",u),e.addEventListener("touchstart",e=>{const t=e.touches[0];a({clientX:t.clientX,clientY:t.clientY,preventDefault:()=>e.preventDefault()})}),document.addEventListener("touchmove",e=>{if(l){const t=e.touches[0];g({clientX:t.clientX,clientY:t.clientY}),e.preventDefault()}}),document.addEventListener("touchend",u),e.addEventListener("mouseenter",()=>{l||(o.setAttribute("opacity","0.8"),o.style.filter="drop-shadow(3px 3px 6px rgba(0,0,0,0.4))")}),e.addEventListener("mouseleave",()=>{l||(o.setAttribute("opacity","1"),o.style.filter="drop-shadow(2px 2px 4px rgba(0,0,0,0.3))")})}updateEdges(e,t,o){o.forEach((o,i)=>{if(o.source===e||o.target===e){const e=this.nodePositions.get(o.source),n=this.nodePositions.get(o.target);e&&n&&t[i]&&(t[i].setAttribute("x1",e.x.toString()),t[i].setAttribute("y1",e.y.toString()),t[i].setAttribute("x2",n.x.toString()),t[i].setAttribute("y2",n.y.toString()))}})}getNodeColor(e){return{person:"#FF6B6B",team:"#4ECDC4",project:"#45B7D1",executive:"#96CEB4",manager:"#FFEAA7",lead:"#DDA0DD",developer:"#98D8C8",product:"#F7DC6F",application:"#85C1E9",service:"#F8C471",storage:"#82E0AA",infrastructure:"#D7BDE2",core:"#F1948A",satellite:"#AED6F1"}[e]||"#BDC3C7"}onModelChange(){const e=this.el.querySelector("div:last-child");e&&this.renderGraph(e);const t=this.el.querySelector("div:first-child");t&&(t.textContent=this.model.get("title")||"Graph Visualization")}}function l(){o(55).registerWidget({model_name:"GroggyGraphModel",model_module:"groggy-widget",model_module_version:"0.1.0",view_name:"GroggyGraphView",view_module:"groggy-widget",view_module_version:"0.1.0",model:s,view:d}),console.log("âœ¨ Elegant Groggy widget extension loaded for Jupyter Notebook")}var a,g;d.view_name="GroggyGraphView",d.view_module=n,d.view_module_version=r,e=o.hmd(e),a="undefined"!=typeof self?self:void 0,g=function(e){return{load_ipython_extension:l,GroggyGraphModel:s,GroggyGraphView:d}},"function"==typeof define&&o.amdO?define(["@jupyter-widgets/base"],g):e.exports?e.exports=g(o(55)):a.groggyWidget=g(a.widgets)}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={id:e,loaded:!1,exports:{}};return t[e](r,r.exports,i),r.loaded=!0,r.exports}return i.amdO={},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(580)})());
//# sourceMappingURL=index.js.map
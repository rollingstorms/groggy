{"version":3,"file":"plugin.js","mappings":"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","sources":["webpack://groggy-widgets/external amd \"@jupyter-widgets/base\"","webpack://groggy-widgets/webpack/bootstrap","webpack://groggy-widgets/webpack/runtime/define property getters","webpack://groggy-widgets/webpack/runtime/hasOwnProperty shorthand","webpack://groggy-widgets/webpack/runtime/make namespace object","webpack://groggy-widgets/./src/widget.ts","webpack://groggy-widgets/./src/plugin.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__55__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { DOMWidgetModel, DOMWidgetView } from '@jupyter-widgets/base';\n\nexport const MODULE_NAME = 'groggy-widgets';\nexport const MODULE_VERSION = '0.1.0';\n\nexport class GroggyGraphModel extends DOMWidgetModel {\n  static model_name = 'GroggyGraphModel';\n  static model_module = MODULE_NAME;\n  static model_module_version = MODULE_VERSION;\n\n  defaults() {\n    return {\n      ...super.defaults(),\n      _model_name: 'GroggyGraphModel',\n      _model_module: MODULE_NAME,\n      _model_module_version: MODULE_VERSION,\n      _view_name: 'GroggyGraphView',\n      _view_module: MODULE_NAME,\n      _view_module_version: MODULE_VERSION,\n      // Graph data traits\n      nodes: [],\n      edges: [],\n      title: 'Graph Visualization',\n    };\n  }\n}\n\nexport class GroggyGraphView extends DOMWidgetView {\n  static view_name = 'GroggyGraphView';\n  static view_module = MODULE_NAME;\n  static view_module_version = MODULE_VERSION;\n  \n  private nodePositions = new Map<string, {x: number, y: number}>();\n  private nodeVelocities = new Map<string, {vx: number, vy: number}>();\n  private isDragging = false;\n  private draggedNode: string | null = null;\n  private dragOffset = {x: 0, y: 0};\n  private animationId: number | null = null;\n  private simulation = {\n    alpha: 1.0,\n    alphaDecay: 0.0228,\n    alphaMin: 0.001,\n    velocityDecay: 0.4,\n    forceStrength: 30,\n    linkDistance: 50,\n    linkStrength: 0.1,\n    chargeStrength: -300,\n    centerStrength: 0.1\n  };\n\n  render() {\n    // Create container\n    this.el.style.cssText = `\n      border: 2px solid #4CAF50;\n      padding: 10px;\n      margin: 10px;\n      border-radius: 8px;\n      background: #f9f9f9;\n      font-family: Arial, sans-serif;\n      min-height: 400px;\n      position: relative;\n      user-select: none;\n    `;\n    \n    // Create a header\n    const header = document.createElement('div');\n    header.style.cssText = `\n      font-weight: bold;\n      margin-bottom: 10px;\n      color: #333;\n    `;\n    header.textContent = this.model.get('title') || 'Graph Visualization';\n    this.el.appendChild(header);\n    \n    // Create graph container\n    const graphContainer = document.createElement('div');\n    graphContainer.style.cssText = `\n      width: 100%;\n      height: 350px;\n      border: 1px solid #ddd;\n      background: white;\n      position: relative;\n      overflow: hidden;\n      cursor: grab;\n    `;\n    this.el.appendChild(graphContainer);\n    \n    // Render basic graph visualization\n    this.renderGraph(graphContainer);\n    \n    // Listen for model changes\n    this.model.on('change', this.onModelChange, this);\n  }\n  \n  private renderGraph(container: HTMLElement) {\n    const nodes = this.model.get('nodes') || [];\n    const edges = this.model.get('edges') || [];\n    \n    // Clear container\n    container.innerHTML = '';\n    \n    if (nodes.length === 0) {\n      container.innerHTML = `\n        <div style=\"\n          display: flex; \n          align-items: center; \n          justify-content: center; \n          height: 100%; \n          color: #666;\n          font-style: italic;\n        \">\n          No graph data provided. Add nodes and edges to see visualization.\n        </div>\n      `;\n      return;\n    }\n    \n    // Create simple SVG visualization\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttribute('width', '100%');\n    svg.setAttribute('height', '100%');\n    svg.style.cursor = 'grab';\n    container.appendChild(svg);\n    \n    // Initialize force-directed layout\n    const centerX = container.clientWidth / 2;\n    const centerY = container.clientHeight / 2;\n    \n    // Initialize positions and velocities (if not already positioned)\n    if (this.nodePositions.size === 0) {\n      nodes.forEach((node: any) => {\n        // Random initial positions near center\n        const angle = Math.random() * 2 * Math.PI;\n        const radius = Math.random() * 100;\n        const x = centerX + radius * Math.cos(angle);\n        const y = centerY + radius * Math.sin(angle);\n        \n        this.nodePositions.set(node.id, { x, y });\n        this.nodeVelocities.set(node.id, { vx: 0, vy: 0 });\n      });\n      \n      // Start physics simulation\n      this.startForceSimulation(nodes, edges, centerX, centerY);\n    }\n    \n    // Draw edges first (so they appear behind nodes)\n    const edgeElements: SVGLineElement[] = [];\n    edges.forEach((edge: any) => {\n      const sourcePos = this.nodePositions.get(edge.source);\n      const targetPos = this.nodePositions.get(edge.target);\n      \n      if (sourcePos && targetPos) {\n        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        line.setAttribute('x1', sourcePos.x.toString());\n        line.setAttribute('y1', sourcePos.y.toString());\n        line.setAttribute('x2', targetPos.x.toString());\n        line.setAttribute('y2', targetPos.y.toString());\n        line.setAttribute('stroke', '#999');\n        line.setAttribute('stroke-width', '2');\n        line.setAttribute('opacity', '0.6');\n        svg.appendChild(line);\n        edgeElements.push(line);\n      }\n    });\n    \n    // Draw nodes with drag functionality\n    nodes.forEach((node: any) => {\n      const pos = this.nodePositions.get(node.id);\n      if (!pos) return;\n      \n      // Create node group for easier manipulation\n      const nodeGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n      nodeGroup.style.cursor = 'grab';\n      \n      // Node circle\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n      circle.setAttribute('cx', pos.x.toString());\n      circle.setAttribute('cy', pos.y.toString());\n      circle.setAttribute('r', (node.size || 20).toString());\n      circle.setAttribute('fill', this.getNodeColor(node.group));\n      circle.setAttribute('stroke', '#333');\n      circle.setAttribute('stroke-width', '2');\n      circle.style.filter = 'drop-shadow(2px 2px 4px rgba(0,0,0,0.3))';\n      \n      // Node label\n      const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n      text.setAttribute('x', pos.x.toString());\n      text.setAttribute('y', (pos.y + 5).toString());\n      text.setAttribute('text-anchor', 'middle');\n      text.setAttribute('font-family', 'Arial, sans-serif');\n      text.setAttribute('font-size', '12');\n      text.setAttribute('fill', '#333');\n      text.setAttribute('pointer-events', 'none'); // Don't interfere with dragging\n      text.textContent = node.label || node.id;\n      \n      nodeGroup.appendChild(circle);\n      nodeGroup.appendChild(text);\n      svg.appendChild(nodeGroup);\n      \n      // Add drag functionality\n      this.addDragBehavior(nodeGroup, node, circle, text, edgeElements, edges);\n    });\n    \n    // Add stats\n    const stats = document.createElement('div');\n    stats.style.cssText = `\n      position: absolute;\n      top: 5px;\n      right: 5px;\n      background: rgba(255,255,255,0.9);\n      padding: 5px;\n      border-radius: 3px;\n      font-size: 12px;\n      color: #666;\n    `;\n    stats.innerHTML = `${nodes.length} nodes, ${edges.length} edges<br><small>Drag nodes to reposition</small>`;\n    container.appendChild(stats);\n  }\n  \n  private addDragBehavior(nodeGroup: SVGGElement, node: any, circle: SVGCircleElement, text: SVGTextElement, edgeElements: SVGLineElement[], edges: any[]) {\n    let startX = 0, startY = 0;\n    let isDragging = false;\n    \n    const onMouseDown = (e: MouseEvent) => {\n      isDragging = true;\n      startX = e.clientX;\n      startY = e.clientY;\n      nodeGroup.style.cursor = 'grabbing';\n      circle.setAttribute('stroke-width', '3');\n      e.preventDefault();\n    };\n    \n    const onMouseMove = (e: MouseEvent) => {\n      if (!isDragging) return;\n      \n      const deltaX = e.clientX - startX;\n      const deltaY = e.clientY - startY;\n      \n      const currentPos = this.nodePositions.get(node.id);\n      if (!currentPos) return; // Safety check\n      \n      const newX = currentPos.x + deltaX;\n      const newY = currentPos.y + deltaY;\n      \n      // Update node position\n      this.nodePositions.set(node.id, { x: newX, y: newY });\n      \n      // Update visual elements\n      circle.setAttribute('cx', newX.toString());\n      circle.setAttribute('cy', newY.toString());\n      text.setAttribute('x', newX.toString());\n      text.setAttribute('y', (newY + 5).toString());\n      \n      // Update connected edges\n      this.updateEdges(node.id, edgeElements, edges);\n      \n      startX = e.clientX;\n      startY = e.clientY;\n    };\n    \n    const onMouseUp = () => {\n      isDragging = false;\n      nodeGroup.style.cursor = 'grab';\n      circle.setAttribute('stroke-width', '2');\n    };\n    \n    // Mouse events\n    nodeGroup.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    \n    // Touch events for mobile\n    nodeGroup.addEventListener('touchstart', (e) => {\n      const touch = e.touches[0];\n      onMouseDown({ clientX: touch.clientX, clientY: touch.clientY, preventDefault: () => e.preventDefault() } as any);\n    });\n    \n    document.addEventListener('touchmove', (e) => {\n      if (isDragging) {\n        const touch = e.touches[0];\n        onMouseMove({ clientX: touch.clientX, clientY: touch.clientY } as any);\n        e.preventDefault();\n      }\n    });\n    \n    document.addEventListener('touchend', onMouseUp);\n    \n    // Hover effects\n    nodeGroup.addEventListener('mouseenter', () => {\n      if (!isDragging) {\n        circle.setAttribute('opacity', '0.8');\n        circle.style.filter = 'drop-shadow(3px 3px 6px rgba(0,0,0,0.4))';\n      }\n    });\n    \n    nodeGroup.addEventListener('mouseleave', () => {\n      if (!isDragging) {\n        circle.setAttribute('opacity', '1');\n        circle.style.filter = 'drop-shadow(2px 2px 4px rgba(0,0,0,0.3))';\n      }\n    });\n  }\n  \n  private updateEdges(nodeId: string, edgeElements: SVGLineElement[], edges: any[]) {\n    edges.forEach((edge: any, index: number) => {\n      if (edge.source === nodeId || edge.target === nodeId) {\n        const sourcePos = this.nodePositions.get(edge.source);\n        const targetPos = this.nodePositions.get(edge.target);\n        \n        if (sourcePos && targetPos && edgeElements[index]) {\n          edgeElements[index].setAttribute('x1', sourcePos.x.toString());\n          edgeElements[index].setAttribute('y1', sourcePos.y.toString());\n          edgeElements[index].setAttribute('x2', targetPos.x.toString());\n          edgeElements[index].setAttribute('y2', targetPos.y.toString());\n        }\n      }\n    });\n  }\n  \n  private getNodeColor(group: string): string {\n    const colors: { [key: string]: string } = {\n      'person': '#FF6B6B',\n      'team': '#4ECDC4', \n      'project': '#45B7D1',\n      'executive': '#96CEB4',\n      'manager': '#FFEAA7',\n      'lead': '#DDA0DD',\n      'developer': '#98D8C8',\n      'product': '#F7DC6F',\n      'application': '#85C1E9',\n      'service': '#F8C471',\n      'storage': '#82E0AA',\n      'infrastructure': '#D7BDE2',\n      'core': '#F1948A',\n      'satellite': '#AED6F1'\n    };\n    return colors[group] || '#BDC3C7';\n  }\n  \n  private onModelChange() {\n    // Re-render when model data changes\n    const graphContainer = this.el.querySelector('div:last-child') as HTMLElement;\n    if (graphContainer) {\n      this.renderGraph(graphContainer);\n    }\n    \n    // Update title\n    const header = this.el.querySelector('div:first-child') as HTMLElement;\n    if (header) {\n      header.textContent = this.model.get('title') || 'Graph Visualization';\n    }\n  }\n  \n  /**\n   * Start force-directed simulation for node positions\n   */\n  private startForceSimulation(nodes: any[], edges: any[], centerX: number, centerY: number) {\n    // Simple force-directed layout simulation\n    const iterations = 100;\n    const repulsionStrength = 1000;\n    const attractionStrength = 0.1;\n    const damping = 0.9;\n    \n    // Initialize velocities\n    const velocities = new Map();\n    nodes.forEach(node => {\n      velocities.set(node.id, { x: 0, y: 0 });\n    });\n    \n    for (let i = 0; i < iterations; i++) {\n      const forces = new Map();\n      \n      // Initialize forces\n      nodes.forEach(node => {\n        forces.set(node.id, { x: 0, y: 0 });\n      });\n      \n      // Repulsion forces\n      for (let j = 0; j < nodes.length; j++) {\n        for (let k = j + 1; k < nodes.length; k++) {\n          const nodeA = nodes[j];\n          const nodeB = nodes[k];\n          const posA = this.nodePositions.get(nodeA.id);\n          const posB = this.nodePositions.get(nodeB.id);\n          \n          if (posA && posB) {\n            const dx = posB.x - posA.x;\n            const dy = posB.y - posA.y;\n            const distance = Math.sqrt(dx * dx + dy * dy) || 1;\n            const force = repulsionStrength / (distance * distance);\n            \n            const fx = force * dx / distance;\n            const fy = force * dy / distance;\n            \n            const forceA = forces.get(nodeA.id);\n            const forceB = forces.get(nodeB.id);\n            if (forceA && forceB) {\n              forceA.x -= fx;\n              forceA.y -= fy;\n              forceB.x += fx;\n              forceB.y += fy;\n            }\n          }\n        }\n      }\n      \n      // Attraction forces from edges\n      edges.forEach(edge => {\n        const sourcePos = this.nodePositions.get(edge.source);\n        const targetPos = this.nodePositions.get(edge.target);\n        const sourceForce = forces.get(edge.source);\n        const targetForce = forces.get(edge.target);\n        \n        if (sourcePos && targetPos && sourceForce && targetForce) {\n          const dx = targetPos.x - sourcePos.x;\n          const dy = targetPos.y - sourcePos.y;\n          const distance = Math.sqrt(dx * dx + dy * dy) || 1;\n          const force = attractionStrength * distance;\n          \n          const fx = force * dx / distance;\n          const fy = force * dy / distance;\n          \n          sourceForce.x += fx;\n          sourceForce.y += fy;\n          targetForce.x -= fx;\n          targetForce.y -= fy;\n        }\n      });\n      \n      // Update positions\n      nodes.forEach(node => {\n        const position = this.nodePositions.get(node.id);\n        const velocity = velocities.get(node.id);\n        const force = forces.get(node.id);\n        \n        if (position && velocity && force) {\n          velocity.x += force.x * 0.01;\n          velocity.y += force.y * 0.01;\n          velocity.x *= damping;\n          velocity.y *= damping;\n          \n          position.x += velocity.x;\n          position.y += velocity.y;\n          \n          // Keep within bounds\n          position.x = Math.max(50, Math.min(750, position.x));\n          position.y = Math.max(50, Math.min(550, position.y));\n        }\n      });\n    }\n  }\n}","import { IJupyterWidgetRegistry, DOMWidgetModel, DOMWidgetView } from '@jupyter-widgets/base';\nimport { JupyterFrontEnd, JupyterFrontEndPlugin } from '@jupyterlab/application';\nimport { GroggyGraphModel, GroggyGraphView, MODULE_NAME, MODULE_VERSION } from './widget';\n\nfunction activate(app: JupyterFrontEnd, registry: IJupyterWidgetRegistry) {\n  console.log('[groggy-widgets] export shape fix - checking prototype chain');\n  console.log('types:', typeof GroggyGraphModel, typeof GroggyGraphView); // expect function,function\n  console.log('is Model subclass:', GroggyGraphModel.prototype instanceof DOMWidgetModel);\n  console.log('is View  subclass:', GroggyGraphView.prototype  instanceof DOMWidgetView);\n\n  registry.registerWidget({\n    name: MODULE_NAME,\n    version: MODULE_VERSION,\n    exports: { GroggyGraphModel, GroggyGraphView },\n  });\n  \n  console.log('✅ Export shape fix: registered actual GroggyGraphView');\n}\n\nconst plugin: JupyterFrontEndPlugin<void> = {\n  id: 'groggy-widgets:plugin',\n  requires: [IJupyterWidgetRegistry as any],\n  autoStart: true,\n  activate,\n};\n\nexport default plugin;"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__55__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","MODULE_NAME","MODULE_VERSION","GroggyGraphModel","DOMWidgetModel","defaults","super","_model_name","_model_module","_model_module_version","_view_name","_view_module","_view_module_version","nodes","edges","title","model_name","model_module","model_module_version","GroggyGraphView","DOMWidgetView","nodePositions","Map","nodeVelocities","isDragging","draggedNode","dragOffset","x","y","animationId","simulation","alpha","alphaDecay","alphaMin","velocityDecay","forceStrength","linkDistance","linkStrength","chargeStrength","centerStrength","render","this","el","style","cssText","header","document","createElement","textContent","model","appendChild","graphContainer","renderGraph","on","onModelChange","container","innerHTML","length","svg","createElementNS","setAttribute","cursor","centerX","clientWidth","centerY","clientHeight","size","forEach","node","angle","Math","random","PI","radius","cos","sin","set","id","vx","vy","startForceSimulation","edgeElements","edge","sourcePos","source","targetPos","target","line","toString","push","pos","nodeGroup","circle","getNodeColor","group","filter","text","label","addDragBehavior","stats","startX","startY","onMouseDown","e","clientX","clientY","preventDefault","onMouseMove","deltaX","deltaY","currentPos","newX","newY","updateEdges","onMouseUp","addEventListener","touch","touches","nodeId","index","querySelector","velocities","i","forces","j","k","nodeA","nodeB","posA","posB","dx","dy","distance","sqrt","force","fx","fy","forceA","forceB","sourceForce","targetForce","position","velocity","max","min","view_name","view_module","view_module_version","requires","IJupyterWidgetRegistry","autoStart","activate","app","registry","console","log","registerWidget","name","version"],"sourceRoot":""}
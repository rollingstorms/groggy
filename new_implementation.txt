Updated API Structure
graph/core.rs - FastGraph
rustðŸ—ï¸  STRUCT: FastGraph
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: FastGraph
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  new() - Constructor
   â””â”€â”€ âš™ï¸  info() - Get graph information
   â””â”€â”€ âš™ï¸  size() - Get total size (nodes + edges)
   â””â”€â”€ âš™ï¸  is_directed() - Check if directed
   â””â”€â”€ âš™ï¸  nodes() - Property: returns NodeCollection
   â””â”€â”€ âš™ï¸  edges() - Property: returns EdgeCollection
   â””â”€â”€ âš™ï¸  subgraph() - Create subgraph with node/edge filters
   â””â”€â”€ âš™ï¸  subgraphs() - Get all connected components
graph/nodes/collection.rs - NodeCollection
rustðŸ—ï¸  STRUCT: NodeCollection
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: NodeCollection
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  add() - Add single node, list of nodes, or dict of node_data
   â””â”€â”€ âš™ï¸  remove() - Remove single node or list of nodes
   â””â”€â”€ âš™ï¸  filter() - Filter nodes by dict, kwargs, or query string
   â””â”€â”€ âš™ï¸  size() - Get node count
   â””â”€â”€ âš™ï¸  ids() - Get all node IDs
   â””â”€â”€ âš™ï¸  has() - Check if node exists
   â””â”€â”€ âš™ï¸  attr() - Property: returns NodeAttributeManager
   â””â”€â”€ âš™ï¸  __iter__() - Iterator support
   â””â”€â”€ âš™ï¸  __getitem__() - Index access â†’ returns NodeProxy
   
ðŸ—ï¸  STRUCT: NodeAttributeManager
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: NodeAttributeManager
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  get() - Get attrs for node(s), optionally filtered by attr names
   â””â”€â”€ âš™ï¸  set() - Set attrs using dict format
   â””â”€â”€ âš™ï¸  set_type() - Set attribute type for validation
   
ðŸ—ï¸  STRUCT: NodeProxy
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: NodeProxy
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  degree() - Get node degree
   â””â”€â”€ âš™ï¸  neighbors() - Get neighbors (with direction params)
   â””â”€â”€ âš™ï¸  get_attr() - Get single attr or list of attrs
   â””â”€â”€ âš™ï¸  set_attr() - Set single attr or list of attr tuples
   â””â”€â”€ âš™ï¸  attrs() - Get all attributes
   â””â”€â”€ âš™ï¸  attr() - Property: returns NodeProxyAttributeManager
   â””â”€â”€ âš™ï¸  __str__() - String representation
   
ðŸ—ï¸  STRUCT: NodeProxyAttributeManager
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: NodeProxyAttributeManager
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  get() - Get attribute for this node
   â””â”€â”€ âš™ï¸  set() - Set attribute for this node
graph/edges/collection.rs - EdgeCollection
rustðŸ—ï¸  STRUCT: EdgeCollection
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: EdgeCollection
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  add() - Add single edge, list of edges, or dict of edge_data
   â””â”€â”€ âš™ï¸  remove() - Remove single edge or list of edges
   â””â”€â”€ âš™ï¸  filter() - Filter edges by dict, kwargs, or query string
   â””â”€â”€ âš™ï¸  size() - Get edge count
   â””â”€â”€ âš™ï¸  ids() - Get all edge IDs
   â””â”€â”€ âš™ï¸  has() - Check if edge exists
   â””â”€â”€ âš™ï¸  attr() - Property: returns EdgeAttributeManager
   â””â”€â”€ âš™ï¸  nodes() - Property: returns filtered NodeCollection
   â””â”€â”€ âš™ï¸  node_ids() - Property: returns node IDs from filtered edges
   â””â”€â”€ âš™ï¸  __iter__() - Iterator support
   â””â”€â”€ âš™ï¸  __getitem__() - Index access â†’ returns EdgeProxy
   
ðŸ—ï¸  STRUCT: EdgeAttributeManager
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: EdgeAttributeManager
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  get() - Get attrs for edge(s), optionally filtered by attr names
   â””â”€â”€ âš™ï¸  set() - Set attrs using dict format
   â””â”€â”€ âš™ï¸  set_type() - Set attribute type for validation
   
ðŸ—ï¸  STRUCT: EdgeProxy
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: EdgeProxy
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  endpoints() - Get edge endpoints
   â””â”€â”€ âš™ï¸  source() - Get source node
   â””â”€â”€ âš™ï¸  target() - Get target node
   â””â”€â”€ âš™ï¸  get_attr() - Get single attr or list of attrs
   â””â”€â”€ âš™ï¸  set_attr() - Set single attr or list of attr tuples
   â””â”€â”€ âš™ï¸  attrs() - Get all attributes
   â””â”€â”€ âš™ï¸  attr() - Property: returns EdgeProxyAttributeManager
   â””â”€â”€ âš™ï¸  __str__() - String representation
   
ðŸ—ï¸  STRUCT: EdgeProxyAttributeManager
   ðŸ·ï¸  #pyclass
   
ðŸ”§ IMPL: EdgeProxyAttributeManager
   ðŸ·ï¸  #pymethods
   â””â”€â”€ âš™ï¸  get() - Get attribute for this edge
   â””â”€â”€ âš™ï¸  set() - Set attribute for this edge
Migration Strategy
Methods to Move:
From FastGraph to NodeCollection:

add_node() â†’ nodes.add()
remove_node() â†’ nodes.remove()
set_node_attribute() â†’ nodes.set_attr()
get_node_attributes() â†’ nodes[node_id].attrs()
filter_nodes_*() â†’ nodes.filter()
get_node_ids() â†’ nodes.ids()
has_node() â†’ nodes.has()
get_neighbors() â†’ nodes[node_id].neighbors()
get_node_degree() â†’ nodes[node_id].degree()

From FastGraph to EdgeCollection:

add_edge() â†’ edges.add()
remove_edge() â†’ edges.remove()
set_edge_attribute() â†’ edges.set_attr()
get_edge_attributes() â†’ edges[edge_id].attrs()
filter_edges_*() â†’ edges.filter()
get_edge_ids() â†’ edges.ids()
has_edge() â†’ edges.has()
get_edge_endpoints() â†’ edges[edge_id].endpoints()

Keep in FastGraph:

info(), size(), is_directed()
subgraph(), subgraphs()
Algorithm methods (bfs, dfs, etc.)
Bulk operations that cross nodes/edges

Example Usage
pythonG = Graph()

# Basic graph operations
G.info()
G.size()

# Node operations
G.nodes.add("A")
G.nodes.add(["A","B","C"])  # batch operation triggered by list
G.nodes.add(node_data)  # batch operation triggered by dict, node_data is a dictionary containing the nodes and node_attributes
G.nodes.remove("A")
G.nodes.remove(["A","B","C"])  # batch operation triggered by list
G.nodes.size()
G.nodes.ids()
G.nodes.has("A")

# Node indexing and properties
node_a = G.nodes["A"]
node_a.degree()
node_a.neighbors()  # parameters for directed/undirected etc
node_a.get_attr("color")
node_a.get_attr(["color","size","shape"])
node_a.set_attr("color", "red")
node_a.set_attr([("color","red"), ("size", 10)])
node_a.attrs()  # get all attr

# Node attribute management
G.nodes.attr.get("A")  # retrieve all attr for A
G.nodes.attr.get(["A","B"])  # retrieve all attr for A and B
G.nodes.attr.get(["A"], ["color"])  # retrieve selected attributes for selected nodes
G.nodes.attr.set({"A":("color", "red")})
G.nodes.attr.set({"A":{"color":"red", "size":10}, "B":{"color":"blue", "size":1}})

# Node proxy attribute management
node_a.attr.get("weight")
node_a.attr.set("weight", 1.0)

# Set attribute types
G.nodes.attr.set_type("size", int)
G.nodes.attr.set_type("weight", float)

# Edge operations
G.edges.add("A", "B")
G.edges.add(edge_data)
G.edges.remove("A", "B")
G.edges.size()
G.edges.ids()
G.edges.has("A", "B")

# Edge indexing and properties
edge_ab = G.edges[("A", "B")]  # or edge_id
edge_ab.endpoints()
edge_ab.source()
edge_ab.target()
edge_ab.attr.get("weight")
edge_ab.attr.set("weight", 1.0)
edge_ab.attrs()

# Filtering
red_nodes = G.nodes.filter({"color": "red", "size":5})
red_nodes = G.nodes.filter(color="red")
heavy_edges = G.edges.filter("weight > 1.0")

# Method chaining for complex queries
heavy_red_node_ids = G.edges.filter("weight > 1.0") \
                          .nodes.filter("color = 'red'") \
                          .node_ids

# Iteration
for node in G.nodes:
    print(node)

for edge in G.edges:
    print(edge)
Implementation Notes

Smart Type Detection: add() methods detect input type (single item, list, dict) and route to appropriate handlers
Attribute Management: Dedicated AttributeManager classes handle batch operations and type validation
Method Chaining: Filter results return new collection objects that support further chaining
Flexible Filtering: Support dict-based, kwarg-based, and query string filtering
Shared State: All collections and proxies share references to the same graph and store
Lazy Creation: Collections created on first access
Proxy Objects: NodeProxy and EdgeProxy provide attribute access for individual items
Backward Compatibility: Keep existing methods with deprecation warnings
Type Safety: Attribute type validation and enforcement